<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Miorc scholarly</title>
  <link rel="stylesheet" href="scholarly.css">
</head>

<body>
  <article resource="#" typeof="schema:ScholarlyArticle">
    <header>
      <h1 property="schema:name">Miorc</h1>
      <h2 role="doc-subtitle" property="schema:alternateName">Midi orchestra</h2>
    </header>
    <meta property="schema:accessibilityFeature" content="alternativeText">

    <section typeof="sa:AuthorsList">
      <h2 itemtype="http://schema.org/title" itemscope>Authors</h2>
      <ul>
        <li typeof="sa:ContributorRole" property="schema:author">
          <span typeof="schema:Person" resource="https://www.facebook.com/radu.97">
            <meta property="schema:givenName" content="Radu">
            <meta property="schema:additionalGivenName" content="Iulian">
            <meta property="schema:familyName" content="Luca">
            <span property="schema:name">Luca Radu-Iulian</span>
          </span>
          <a href="#sf" property="sa:roleAffiliation" resource="https://www.info.uaic.ro/bin/Main/">Student @Faculty of
            computer science</a>
          <ul>
            <li property="schema:roleContactPoint" typeof="schema:ContactPoint">
              <a href="mailto:radu.luca13@yahoo.com" property="schema:email">Mail @Radu</a>
            </li>
          </ul>
        </li>

        <li typeof="sa:ContributorRole" property="schema:author">
          <span typeof="schema:Person" resource="https://www.facebook.com/marian.morcotet.9">
            <meta property="schema:givenName" content="Ionut">
            <meta property="schema:additionalGivenName" content="Iulian">
            <meta property="schema:familyName" content="Bleoju">
            <span property="schema:name">Ionut-Bogdan Bleoju</span>
          </span>
          <a href="#sf" property="sa:roleAffiliation" resource="https://www.info.uaic.ro/bin/Main/">Student @Faculty of
            computer science</a>
          <ul>
            <li property="schema:roleContactPoint" typeof="schema:ContactPoint">
              <a href="mailto:ionutyop@gmail.com" property="schema:email">Mail @Ionut</a>
            </li>

          </ul>
        </li>
      </ul>
    </section>

    <section typeof="sa:Affiliations">
      <h2 itemtype="http://schema.org/title" itemscope>Affiliations</h2>
      <ul>
        <li id="sa">
          <span typeof="schema:Organization" resource="https://science.ai/">
            <span property="schema:name">Faculty of computer science</span>,
            <span property="schema:parentOrganization">
              <span typeof="schema:Organization">
                <span property="schema:name">"Alexandru Ioan Cuza" University of IaÈ™i</span>
                â€”
                <span property="schema:location" typeof="schema:Place">
                  <span property="schema:address" typeof="schema:PostalAddress">
                    <span property="schema:addressLocality">IaÈ™i</span>,
                    <span property="schema:addressRegion">IaÈ™i</span>,
                    <span property="schema:addressCountry">RomÃ¢nia</span>
                  </span>
                </span>
              </span>
            </span>
          </span>
        </li>
      </ul>
    </section>

    <section typeof="sa:Concepts">
      <h2 itemtype="http://schema.org/title" itemscope>Concepts</h2>
      <section typeof="schema:SoftwareSourceCode">
        <h3 itemtype="http://schema.org/title" itemscope>HTML</h3>
        <ul>
          <li typeof="schema:WebPage" role="doc-biblioentry" resource="http://semver.org/" property="schema:citation"
            >
            <cite property="schema:name">
              <a href="https://en.wikipedia.org/wiki/HTML">HTML</a>
            </cite>, by
            <span property="schema:author" typeof="schema:Person">
              <span property="schema:givenName">Tim</span>
              <span property="schema:familyName">Berners-Lee</span>
            </span>; published in
            <time property="schema:datePublished" datatype="xsd:gYear" datetime="1980">1980</time>
            <span property="schema:potentialAction" typeof="schema:ReadAction">
              <meta property="schema:actionStatus" content="CompletedActionStatus">
              (accessed on
              <time property="schema:endTime" datatype="xsd:date" datetime="2018-10-30">
                30 Oct 2018
              </time>)
            </span>.
          </li>

          <li itemtype="http://schema.org/ListItem" itemscope>
            <p itemtype="http://schema.org/description" itemscope>Hypertext Markup Language (HTML) is the standard markup
              language for creating web pages and web applications. With Cascading Style Sheets (CSS) and JavaScript,
              it forms a triad of cornerstone technologies for the World Wide Web</p>
          </li>
        </ul>
      </section>

      <section>
        <h3 itemtype="http://schema.org/title" itemscope>CSS</h3>
        <ul>
          <li typeof="schema:WebPage" role="doc-biblioentry" resource="http://semver.org/" property="schema:citation">
            <cite property="schema:name">
              <a href="https://en.wikipedia.org/wiki/Cascading_Style_Sheets">CSS</a>
            </cite>, by
            <span property="schema:author" typeof="schema:Person">
              <span property="schema:givenName">HÃ¥kon</span>
              <span property="schema:familyName">Wium-Lie</span>
            </span>; first proposed in
            <time property="schema:datePublished" datatype="xsd:gYear" datetime="1994">1994</time>
            <span property="schema:potentialAction" typeof="schema:ReadAction">
              <meta property="schema:actionStatus" content="CompletedActionStatus">
              (accessed on
              <time property="schema:endTime" datatype="xsd:date" datetime="2018-10-30">
                30 Oct 2018
              </time>)
            </span>.
          </li>

          <li itemtype="http://schema.org/ListItem" itemscope>
            <p itemtype="http://schema.org/description" itemscope>Cascading Style Sheets (CSS) is a style sheet language used for
              describing the presentation of a document written in a markup language like HTML. CSS is a cornerstone
              technology of the World Wide Web, alongside HTML and JavaScript.</p>
          </li>
        </ul>
      </section>

      <section>
        <h3 itemtype="http://schema.org/title" itemscope>JavaScript</h3>
        <ul>
          <li typeof="schema:WebPage" role="doc-biblioentry" resource="http://semver.org/" property="schema:citation"
            >
            <cite property="schema:name">
              <a href="https://en.wikipedia.org/wiki/JavaScript">JS</a>
            </cite>, by
            <span typeof="schema:Organization"
              resource="https://en.wikipedia.org/wiki/National_Center_for_Supercomputing_Applications">
              <span property="schema:name">National Center for Supercomputing Applications</span>,
              <span property="schema:parentOrganization">
                <span typeof="schema:Organization">
                  <span property="schema:name">University of Illinois at Urbana-Champaign</span>
                  â€”
                  <span property="schema:location" typeof="schema:Place">
                    <span property="schema:address" typeof="schema:PostalAddress">
                      <span property="schema:addressLocality">Urbana and Champaign</span>,
                      <span property="schema:addressRegion">Illinois</span>,
                      <span property="schema:addressCountry">U.S.</span>
                    </span>
                  </span>
                </span>
              </span>
            </span>; published in
            <time property="schema:datePublished" datatype="xsd:gYear" datetime="1993">1993</time>
            <span property="schema:potentialAction" typeof="schema:ReadAction">
              <meta property="schema:actionStatus" content="CompletedActionStatus">
              (accessed on
              <time property="schema:endTime" datatype="xsd:date" datetime="2018-10-30">
                30 Oct 2018
              </time>)
            </span>.
          </li>

          <li itemtype="http://schema.org/ListItem" itemscope>
            <p itemtype="http://schema.org/description" itemscope>JavaScript, often abbreviated as JS, is a high-level,
              interpreted programming language. It is a language which is also characterized as dynamic, weakly typed,
              prototype-based and multi-paradigm. Alongside HTML and CSS, JavaScript is one of the three core
              technologies of the World Wide Web.</p>
          </li>
        </ul>
      </section>

      <section>
        <h3 itemtype="http://schema.org/title" itemscope>GitHub</h3>
        <ul>
          <li typeof="schema:WebPage" role="doc-biblioentry" resource="http://semver.org/" property="schema:citation"
            >
            <cite property="schema:name">
              <a href="https://github.com/">GitHub</a>
            </cite>, by
            <span typeof="schema:Organization" resource="https://github.com/">
              <span property="schema:name">GitHub Inc.</span>,
              <span property="schema:parentOrganization">
                <span typeof="schema:Organization">
                  <span property="schema:name"> Microsoft Corporation</span>
                  â€”
                  <span property="schema:location" typeof="schema:Place">
                    <span property="schema:address" typeof="schema:PostalAddress">
                      <span property="schema:addressLocality">San Francisco</span>,
                      <span property="schema:addressRegion">California</span>,
                      <span property="schema:addressCountry">U.S.</span>
                    </span>
                  </span>
                </span>
              </span>
            </span>; started in
            <time property="schema:datePublished" datatype="xsd:gYear" datetime="2008">2008</time>
            <span property="schema:potentialAction" typeof="schema:ReadAction">
              <meta property="schema:actionStatus" content="CompletedActionStatus">
              (accessed on
              <time property="schema:endTime" datatype="xsd:date" datetime="2018-10-30">
                30 Oct 2018
              </time>)
            </span>.
          </li>

          <li itemtype="http://schema.org/ListItem" itemscope>
            <p itemtype="http://schema.org/description" itemscope>GitHub Inc. is a web-based hosting service for version control
              using Git. It is mostly used for computer code. It offers all of the distributed version control and
              source code management (SCM) functionality of Git as well as adding its own features. It provides access
              control and several collaboration features such as bug tracking, feature requests, task management, and
              wikis for every project.</p>
          </li>
        </ul>
      </section>
    </section>

    <section typeof="sa:MaterialsAndMethods">
      <h2>Our implementation using these concepts</h2>
      <ul>
        <li itemtype="http://schema.org/ListItem" itemscope>
          <h3 itemtype="http://schema.org/title" itemscope>First steps</h3>
          <ul>
            <li itemtype="http://schema.org/ListItem" itemscope>
              Down here you can see a sketch we made before starting to work.
            </li>
          </ul>
          <figure typeof="sa:Image">
            <img src="./schita.jpg" alt="sketch">
            <figcaption> Sketch for how the alerts should be previewed </figcaption>
          </figure>

        </li>

        <li itemtype="http://schema.org/ListItem" itemscope>
          <h3 itemtype="http://schema.org/title" itemscope>For code management we chose <u>Git</u> and the tool we used
            <u>GitHub</u></h3>
        </li>

        <li itemtype="http://schema.org/ListItem" itemscope>
          <h3 itemtype="http://schema.org/title" itemscope>Now some sneaky peaks inside our code</h3>
          <figure typeof="sa:Image">
            <img src="./navmenu.png" alt="html-example">
            <figcaption>Index page only with navigator menu</figcaption>
          </figure>
          <figure typeof="sa:Image">
            <img src="./navmenucss.png" alt="css-responsive-example">
            <figcaption>Here is some of the css responsible with the responsiveness of the navigator</figcaption>
          </figure>
          <figure typeof="sa:Image">
            <img src="./navmenujs.png" alt="javascript-example">
            <figcaption>And the javascript functions which is behind the menu</figcaption>
          </figure>
        </li>

        <li itemtype="http://schema.org/ListItem" itemscope>
          <h3 itemtype="http://schema.org/title" itemscope>Final product</h3>
          <p itemtype="http://schema.org/description" itemscope>Users will be able to login/register with or without
            facebook(quick method).</p>
          <p itemtype="http://schema.org/description" itemscope>And the ultimate goal for this project is to develop an
            application in which the users can easily compose their own music and mix it with other songs.</p>
          <figure typeof="sa:Image">
            <img src="./mixer.png" alt="mixer-example">
            <figcaption>Mixer Page</figcaption>
          </figure>

          <figure typeof="sa:Image">
            <img src="./dirijor.png" alt="dirijor-example">
            <figcaption>Dirijor Page</figcaption>
          </figure>

        </li>

        <li itemtype="http://schema.org/ListItem" itemscope>
          <h3 itemtype="http://schema.org/title" itemscope>Project Structure</h3>
          <h4 itemtype="http://schema.org/title" itemscope>A basic flowchart of our application</h4>
          <figure typeof="sa:Image">
            <img src="./Flowchart.png" alt="flowchart-example">
            <figcaption>Application flowchart</figcaption>
          </figure>
          <h4 itemtype="http://schema.org/title" itemscope>Login</h4>
          <figure typeof="sa:Image">
            <img src="./Login.png" alt="login-diagram">
            <figcaption>Login diagram</figcaption>
          </figure>
          <p itemtype="http://schema.org/description" itemscope>Will be based on token authentication and re-seed</p>
          <h4 itemtype="http://schema.org/title" itemscope>Database</h4>
          <figure typeof="sa:Image">
            <img src="./Database.png" alt="database-diagram">
            <figcaption>Database diagram</figcaption>
          </figure>
          <p itemtype="http://schema.org/description" itemscope>There will be 2 tables:</p>
          <ul>
            <li itemtype="http://schema.org/ListItem" itemscope>
              Users: <span>composer, orchestra master</span>
            </li>
            <li itemtype="http://schema.org/ListItem" itemscope>
              Songs: 2 possible representations (as a "song" / as notes project - unprocessed audio )
            </li>
          </ul>
          <h4 itemtype="http://schema.org/title" itemscope>UML</h4>
          <figure typeof="sa:Image">
            <img src="./UML.png" alt="uml-diagram">
            <figcaption>UML Diagram</figcaption>
          </figure>
        </li>

        <li itemtype="http://schema.org/ListItem" itemscope>
          <h3 itemtype="http://schema.org/title" itemscope>UML in detail</h3>
          <h4 itemtype="http://schema.org/title" itemscope>Mixer component</h4>
          <p itemtype="http://schema.org/description" itemscope> ðŸ’¨ It keeps a list of user's scores and a list of instruments
            from which the user can select</p>
          <h5 itemtype="http://schema.org/title" itemscope>Methods:</h5>
          <ul style="list-style: none;">
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” AddScore() âž¡ extends the
              scores with 8 note columns</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” Play() âž¡ renders current
              state of the project and plays it</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” Pause() âž¡ pauses playing</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” changeBpm() âž¡ changes the BPM
              for each note</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” Save(String songName, String
              instrumentName) âž¡ saves the state of the project to the database and renders the song so that it can be
              loaded in the orchestra</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” Load(String songName) âž¡ takes
              the project state of the selected song from database</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” ChangeName(String name) âž¡
              changes song name</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” ChangeInstrument(String
              instrumentName) âž¡ changes the notes according to the instrument</li>
          </ul>

          <h4 itemtype="http://schema.org/title" itemscope>Score component</h4>
          <p itemtype="http://schema.org/description" itemscope> ðŸ’¨ Keeps a representation of each note, repeated 8 times</p>
          <h5 itemtype="http://schema.org/title" itemscope>Methods:</h5>
          <ul style="list-style: none;">
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” Add() âž¡ event firing note
              selection</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” Remove() âž¡ event firing note
              deselection</li>
          </ul>

          <h4 itemtype="http://schema.org/title" itemscope>Orchestra component</h4>
          <p itemtype="http://schema.org/description" itemscope> ðŸ’¨ It keeps a list of user selected tracks for playing together
          </p>
          <h5 itemtype="http://schema.org/title" itemscope>Methods:</h5>
          <ul style="list-style: none;">
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” AddTrack(String trackName) âž¡
              adds new track to the list</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” RemoveTrack(trackName) âž¡
              removes track from the list</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” PlayAll()/PauseAll() âž¡
              plays/pauses the orchestra (all tracks simultaneously</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ”
              Play(trackName)/Pause(trackName) âž¡ plays/pauses the preview of a track</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” changeBpm() âž¡ changes the
              volume at which the track plays</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” changeVolume(trackName) âž¡
              changes the volume at which the track plays</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” changeTheme(trackName) âž¡
              changes the theme of the application (these could be a service for the whole app)</li>
          </ul>

          <h4 itemtype="http://schema.org/title" itemscope>Track component</h4>
          <p itemtype="http://schema.org/description" itemscope>âœ” Audio "object"/ render result after Save() from the mixer</p>

          <h4 itemtype="http://schema.org/title" itemscope>TrackList component</h4>
          <p itemtype="http://schema.org/description" itemscope> ðŸ’¨ It keeps a <b>list</b> of all available tracks from the
            <b>instrument
              list</b></p>
          <h5 itemtype="http://schema.org/title" itemscope>Methods:</h5>
          <ul style="list-style: none;">
            <li itemtype="http://schema.org/ListItem" itemscope>âœ”
              ChangeInstrument(instrumentName) âž¡ when the user chooses another insturment it fires an event which
              changes the list of tracks visible</li>
          </ul>
        </li>
        <li itemtype="http://schema.org/ListItem" itemscope>
          <h3 itemtype="http://schema.org/title" itemscope>Patterns used</h3>
          <h4 itemtype="http://schema.org/title" itemscope> ðŸ‘€ IIFE âž¡ immediately invoked functions used for models creating</h4>
          <p itemtype="http://schema.org/description" itemscope> Mostly, them will create our components where needed. Examples:
          </p>
          <ul>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” createTrackList()</li>
            <li itemtype="http://schema.org/ListItem" itemscope>âœ” createCard()</li>
          </ul>

          <h4 itemtype="http://schema.org/title" itemscope> ðŸ‘€ Observer âž¡ observes the modifications of tracks (new track saved,
            existing track edited, deleting track) and notifies TrackList</h4>
          <h4 itemtype="http://schema.org/title" itemscope> ðŸ‘€ Module Pattern âž¡ for Score component and any other only function
            editable component</h4>
        </li>
        <li itemtype="http://schema.org/ListItem" itemscope>
          <h3 itemtype="http://schema.org/title" itemscope>Storage</h3>
          <h4 itemtype="http://schema.org/title" itemscope> ðŸ‘€ Cloud âž¡ Microsoft Azure/ NoSQL/ AWS</h4>
          <h4 itemtype="http://schema.org/title" itemscope> ðŸ‘€ localStorage/sessionStorage âž¡ keeps the state of the currently
            produced song in mixer</h4>
        </li>
      </ul>
    </section>

    <section>
      <h2 itemtype="http://schema.org/title" itemscope>Implementation</h2>
      <h4 itemtype="http://schema.org/description" itemscope>The application has 2 main pages:</h4>
      <h3 itemtype="http://schema.org/Title" itemscope>The mixer page</h3>
      <h4 itemtype="http://schema.org/description" itemscope>Implementation:</h4>
      <h4>Chord Object</h4>
      <h4>Note Object</h4>
      <h4>Other functions</h4>
      <ul itemtype="http://schema.org/List" itemscope>
        <li itemtype="http://schema.org/ListItem" itemscope>

          <ul>
            <li>animate()</li>
            <li>expand()</li>
            <li>checkAction()</li>
            <li>PlayMusic()</li>
            <li>makeJson()</li>
            <li>loadSong()</li>
            <li>saveSong()</li>
            <li>instrumentChange()</li>
            <li>init()</li>
            <li>makeMatrix()</li>
          </ul>
          <h4>Firebase</h4>
        </li>
        
        <li>
          <h3 itemtype="http://schema.org/Title" itemscope>The orchestra page</h3>
          <h4 itemtype="http://schema.org/description" itemscope>Implementation:</h4>
          <h4>AudioManager Object</h4>
          <ul>
            <li>addInstrumentPartiture(instrumentName, DOMel, matrix)</li>
            <li>after a track is dragged into a valid dropzone area, it receives a matrix of scheduled notes to play and creates corresponding number of audio elements for each track (16) by calling createAudio()</li>
            
            <li>createAudio()</li><li>creates audio HTML element and a gain for it</li>
            <li>reload()</li><li>restarts addInstrumentPartiture() for each track loaded </li>
            <li>stopAll()</li><li>resets all intervals</li>
            <li>playAll()</li><li>sets startedAt to Date.now() and calls play for each track</li>
            <li>play(id)</li><li>starts interval for the selected track</li>
            <li>resumeAll()</li><li>resumes audio context</li>
            <li>pauseAll()</li><li>suspends audio context</li>
          </ul>
          <h4>Other functions</h4>
          <ul>
            <li>mute()</li><li>sets gain to 0 for each track</li>
            <li>unmute()</li><li>sets gain to previous value that each track had</li>
            <li>changeVolume()</li><li>sets gain to the value specified using the slider</li>
            <li>changeBpm</li><li>changes frequency for setInterval</li>
          </ul>
        </li>
        <li>Web Audio API</li> <li>playing audio notes in mp3-base64 format</li>
        <li>Drag and Drop API</li> <li>taking the partiture one track has and move along with it to the active songs area (upper part)</li>
        <li>Firebase</li> <li>user logging and loading list of songs for each available instrument</li>
        <li itemtype="http://schema.org/ListItem" itemscope>
        <h3 itemtype="http://schema.org/title" itemscope>Problems:</h3>
          <ul itemtype="http://schema.org/List" itemscope>
            <li>Midi.js library is quite old , and hasn't been updated in over 4 years so there are a lot of
              deprecated stuff in it , from loading an audiocontext immediately after load to non working
              functions</li>
            <li>The note sheet representation changed 2 times , until i stuck with the current one which is a
              canvas. Why i chose a canvas? Because i found it really easy to get the coordinates of mouseclick
              rather then see which element the user clicked </li>
            <li>Even though the 2 mentioned raised some difficulties , they can't compare with the REST api , for
              which i decided to use <b> node js </b> , without any experience on the backend side this proved to
              be quite difficult , so we ditched it and used firebase which proved to be quite a good solution</li>
            <li>The interface is although working just fine , quite ugly to look at</li>
            <li>There are a limited number of notes which can be played</li>
            <li>You cant pause the song just stop it</li>
            <li>If it is playing the same note at a bpm that is too big, the interval won't change because the audio cannot be stopped</li>
            <li>Loading a track means while others ar playing means reloading all tracks</li>
          </ul>
        </li>
      </ul>

      

      <h3 itemtype="http://schema.org/description" itemscope>Testing:</h3>
      <h4 itemtype="http://schema.org/description" itemscope>All test were done manually , from application responsiveness on mobile devices to composing , playing
          and uploading songs;</h4>
      
      <!-- <h3 itemtype="http://schema.org/title">Now the big question</h3> -->
          
      <!-- <h2>CAN IT BE USED??</h2>
      <p itemtype="http://schema.org/description">Yes the application works just fine but there are a few bugs which can ruin the experience</p><br>
      <h3>Mixer page:</h3>
      <ul>
        <h4>Problems:</h4>
        <li>The interface is although working just fine , quite ugly to look at</li>
        <li>There are a limited number of notes which can be played</li>
        <li>You cant pause the song just stop it</li>
      </ul> -->
    </section>
  </article>
</body>

</html>